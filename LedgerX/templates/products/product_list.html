{% extends 'base_public.html' %}
{% block content %}
<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-5">
        <h2 class="fw-bold mb-0">Inventory Management</h2>
        <a href="{% url 'product_add' %}" class="btn btn-primary shadow-sm">+ Add Product</a>
    </div>

    <div class="card border-0 shadow-sm overflow-hidden">
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
                <thead class="bg-light text-muted small">
                    <tr>
                        <th class="ps-4 py-3">IMAGE</th> <th class="py-3">PRODUCT</th>
                        <th class="py-3">PRICE</th>
                        <th class="py-3">STOCK</th>
                        <th class="text-end pe-4">ACTIONS</th>
                    </tr>
                </thead>
                <tbody>
                    {% for product in products %}
                    <tr>
                        <td class="ps-4">
                            {% if product.image %}
                                <img src="{{ product.image.url }}" alt="img" class="rounded" style="width: 40px; height: 40px; object-fit: cover;">
                            {% else %}
                                <div class="bg-light rounded d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">ðŸ“¦</div>
                            {% endif %}
                        </td>
                        <td class="fw-bold">{{ product.name }}<br><small class="text-muted fw-normal">{{ product.category }}</small></td>
                        <td class="text-emerald fw-bold">â‚¹{{ product.default_price }}</td>
                        <td>
                            <span class="badge {% if product.stock_quantity < 10 %}bg-warning-subtle text-warning{% else %}bg-success-subtle text-success{% endif %} rounded-pill">
                                {{ product.stock_quantity }}
                            </span>
                        </td>
                        <td class="text-end pe-4">
                            <a href="{% url 'product_detail' product.id %}" class="btn btn-sm btn-outline-dark rounded-pill">Details</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}